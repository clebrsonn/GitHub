<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:osms="http://java.sun.com/jsf/composite/osms"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="../template.xhtml">

	<ui:define name="title">Finalizar Pedido | OSMS</ui:define>

	<ui:define name="content">
		<h1 class="page-header">Finalizar Pedido</h1>
		<osms:navBarHeaderPublic activeOrder="active"></osms:navBarHeaderPublic>
		<div class="row col-sm-9">

			<h:form>

				<div class="form-group">
					<label class="col-sm-2 control-label">Usuário</label>
					<div class="col-sm-10">
						<h:selectOneMenu styleClass="form-control"
							value="#{newPedido.form.userId}">
							<f:selectItems value="#{newPedido.form.users}" var="user"
								itemLabel="#{user.name}" itemValue="#{user.id}">

							</f:selectItems>

						</h:selectOneMenu>

					</div>
				</div>
<div></div>

				<div class="form-group">
					<h:dataTable value="#{newPedido.form.pedido.products}"
						var="product"
						styleClass="table-striped table-bordered table-condensed table-hover"
						columnClasses="col-sm-3, col-sm-3, col-sm-6 "
						rendered="#{newPedido.form.pedido.products.isEmpty()==false}">
						<h:column>
							<f:facet name="header">
						Image
					</f:facet>
							<a href="showProd.xhtml?prodId=#{product.id}">
								<div class="thumbnail">
									<img src="#{product.image}" alt="Image Product"> </img>
								</div>
							</a>
						</h:column>

						<h:column>
							<f:facet name="header">
						Name
					</f:facet>
							<a href="showProd.xhtml?prodId=#{product.id}">#{product.name}</a>
						</h:column>

						<h:column>
							<f:facet name="header">
						Description
					</f:facet>
				#{product.description}
				</h:column>

						<h:column>
							<f:facet name="header">
						Price
					</f:facet>
				#{product.price}
				</h:column>
						<h:column>
							<f:facet name="header">
						Remove
					</f:facet>
							<h:commandButton class="btn btn-default" value="Excluir Produto"
								action="#{newPedido.form.setRemove(product.id)}" />
						</h:column>

					</h:dataTable>
					TOTAL: R$ #{newPedido.form.total}
				</div>

				<div class="form-group">
					<h:commandButton class="btn btn-default" value="Salvar"
						action="#{newPedido.save}" />
				</div>
				<h:messages></h:messages>
			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>